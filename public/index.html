<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loove • Music App</title>
<style>
  :root{
    --bg:#0b0f14;
    --card:#121826;
    --muted:#9aa4b2;
    --text:#e6ecf2;
    --accent:#ff2fb3;
    --amber:#ff9f1a;
    --amber-2:#ffb02e;
    --amber-3:#ff7a00;
    --ok:#22c55e;
    --danger:#ef4444;
    --outline:#1f2937;
  }

  /* ================== CHANGELOG ==================
     Edição 10 (16/08/2025, 18:54) — Página NOTIFICAÇÕES
     - Adicionados 4 toggles: Master + Músicas Novas + Novidades e Sucessos + Playlists Especiais
     - Persistência em localStorage (looveNotifPrefs)
     - Sincronização Master <-> Individuais
     - Não pausa o áudio ao abrir páginas/menus
  */

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:
      radial-gradient(1000px 600px at 10% -10%, rgba(49,225,255,.08), transparent 60%),
      radial-gradient(800px 500px at 110% 10%, rgba(255,47,179,.07), transparent 60%),
      var(--bg); color:var(--text);
    font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    min-height:100%;
    overflow:hidden; /* evita scroll duplo interno */
  }

  /* Layout principal */
  header{
    display:flex; align-items:center; justify-content:space-between;
    padding:14px 18px; border-bottom:1px solid #0f1622; background:rgba(18,24,38,.9);
    position:sticky; top:0; z-index:20; backdrop-filter: blur(8px);
  }
  .brand{
    display:flex; align-items:center; gap:10px;
  }
  .brand img{ height:28px; width:auto; display:block; }
  .brand-title{ font-weight:700; letter-spacing:.3px }

  nav{
    display:flex; gap:12px; align-items:center;
  }
  nav button{
    background:#0f1622; color:var(--text); border:1px solid #162033;
    padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
  }
  nav button.active{ border-color:var(--amber); box-shadow:0 0 0 1px rgba(255,159,26,.2) inset; }

  main{ height:calc(100vh - 64px); display:grid; grid-template-columns:280px 1fr; }
  aside{
    border-right:1px solid #0f1622; background:rgba(18,24,38,.7);
    padding:12px; overflow:auto;
  }
  .menu{ display:flex; flex-direction:column; gap:8px }
  .menu button{
    width:100%; text-align:left; background:#0f1622; border:1px solid #162033;
    color:var(--text); padding:10px 12px; border-radius:10px; cursor:pointer;
  }
  .menu button.active{ border-color:var(--amber) }

  .page{
    padding:16px; overflow:auto; height:100%;
    display:none;
  }
  .page.active{ display:block }

  .card{
    background:var(--card); border:1px solid #162033; border-radius:16px; padding:16px;
    box-shadow: 0 4px 20px rgba(0,0,0,.25);
  }
  .h1{ font-size:22px; font-weight:800; margin:0 0 6px }
  .muted{ color:var(--muted); font-size:13px }

  /* Player fixo */
  .player{
    position:fixed; left:0; right:0; bottom:0; background:#0f1622;
    border-top:1px solid #162033; padding:10px 12px; display:flex; align-items:center; gap:12px;
    z-index:30;
  }
  .player .title{ font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:50vw }
  .btn{
    background:#121826; border:1px solid #162033; color:var(--text);
    padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
  }
  .btn:hover{ border-color:#22324d }

  /* ======= SWITCH (toggle) ======= */
  .switch{
    display:inline-flex; align-items:center; gap:12px; cursor:pointer; user-select:none;
    padding:10px 12px; border:1px solid #162033; border-radius:14px; background:#0f1622;
    transition: border-color .2s ease, background .2s ease;
  }
  .switch:hover{ border-color:#22324d }
  .switch .track{
    width:52px; height:28px; background:#243145; border-radius:999px; position:relative; transition:background .2s ease;
    box-shadow: inset 0 0 0 1px #162033;
  }
  .switch .thumb{
    width:24px; height:24px; background:#fff; border-radius:50%; position:absolute; top:2px; left:2px; transition:left .18s ease;
  }
  .switch.on .track{ background:#22c55e }
  .switch.on .thumb{ left:26px }

  .row{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 0 }
  .row + .row{ border-top:1px dashed #1a2233 }
  .col{ display:flex; align-items:center; gap:12px }
  .tag{ font-size:12px; color:#cbd5e1; background:#0c121d; border:1px solid #152033; padding:4px 8px; border-radius:8px }

  /* Responsivo */
  @media (max-width:900px){
    main{ grid-template-columns:1fr }
    aside{ display:none }
  }
  @media (max-width:480px){
    .brand img{ height:24px }
  }
</style>
</head>
<body>

<header>
  <div class="brand">
    <!-- Mantém logo como no app -->
    <img src="https://dummyimage.com/140x40/ffffff/000000.png&text=Loove" alt="Loove" aria-hidden="true">
    <div class="brand-title">Loove • Music App</div>
  </div>
  <nav aria-label="Atalhos">
    <button data-goto="home" class="active">Início</button>
    <button data-goto="notificacoes">Notificações</button>
  </nav>
</header>

<main>
  <aside>
    <div class="menu" role="navigation" aria-label="Menu principal">
      <button data-goto="home" class="active">Início</button>
      <button data-goto="favoritos">Favoritos</button>
      <button data-goto="minhas-playlists">Minhas Playlists</button>
      <button data-goto="downloads">Downloads</button>
      <button data-goto="assinaturas">Assinaturas</button>
      <button data-goto="configuracoes">Configurações</button>
      <button data-goto="notificacoes">Notificações</button>
      <button data-goto="ajuda">Ajuda</button>
    </div>
  </aside>

  <!-- PÁGINAS -->
  <section id="page-home" class="page active">
    <div class="card">
      <div class="h1">Início</div>
      <div class="muted">Sua música continua tocando mesmo ao navegar.</div>
    </div>
  </section>

  <section id="page-favoritos" class="page">
    <div class="card"><div class="h1">Favoritos</div></div>
  </section>

  <section id="page-minhas-playlists" class="page">
    <div class="card"><div class="h1">Minhas Playlists</div></div>
  </section>

  <section id="page-downloads" class="page">
    <div class="card"><div class="h1">Downloads</div></div>
  </section>

  <section id="page-assinaturas" class="page">
    <div class="card"><div class="h1">Assinaturas</div></div>
  </section>

  <section id="page-configuracoes" class="page">
    <div class="card"><div class="h1">Configurações</div></div>
  </section>

  <!-- ===================== NOTIFICAÇÕES ===================== -->
  <section id="page-notificacoes" class="page" aria-labelledby="ttl-notifs">
    <div class="card">
      <div id="ttl-notifs" class="h1">Notificações</div>
      <p class="muted">Escolha exatamente o que quer receber. Você pode ativar tudo de uma vez
        ou controlar cada categoria separadamente. (As preferências ficam salvas neste dispositivo.)</p>

      <!-- MASTER -->
      <div class="row" style="padding-top:0">
        <div class="col">
          <strong>Todas as notificações</strong>
          <span class="tag">Master</span>
        </div>
        <button class="switch" id="sw-all" role="switch" aria-checked="false" aria-label="Ativar/Desativar todas as notificações">
          <span class="track"></span><span class="thumb"></span>
        </button>
      </div>

      <!-- Músicas Novas -->
      <div class="row">
        <div class="col">
          <span>Músicas Novas</span>
          <span class="tag">Lançamentos</span>
        </div>
        <button class="switch" id="sw-new" role="switch" aria-checked="false" aria-label="Receber notificação de Músicas Novas">
          <span class="track"></span><span class="thumb"></span>
        </button>
      </div>

      <!-- Novidades e Sucessos -->
      <div class="row">
        <div class="col">
          <span>Novidades e Sucessos</span>
          <span class="tag">Destaques</span>
        </div>
        <button class="switch" id="sw-trends" role="switch" aria-checked="false" aria-label="Receber notificação de Novidades e Sucessos">
          <span class="track"></span><span class="thumb"></span>
        </button>
      </div>

      <!-- Playlists Especiais -->
      <div class="row">
        <div class="col">
          <span>Playlists Especiais</span>
          <span class="tag">Curadoria</span>
        </div>
        <button class="switch" id="sw-playlists" role="switch" aria-checked="false" aria-label="Receber notificação de Playlists Especiais">
          <span class="track"></span><span class="thumb"></span>
        </button>
      </div>

      <p class="muted" style="margin-top:12px">
        Dica: quer push real no celular? Depois integramos com Firebase/OneSignal usando estes mesmos estados.
      </p>
    </div>
  </section>

  <section id="page-ajuda" class="page">
    <div class="card"><div class="h1">Ajuda</div></div>
  </section>
</main>

<!-- PLAYER FIXO (não é duplicado) -->
<div class="player" aria-label="Player de áudio">
  <button id="btn-play" class="btn">▶︎ / ❚❚</button>
  <div class="title" id="current-title">Faixa de Exemplo</div>
  <audio id="audio" preload="none" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9a4c4a5c8a.mp3?filename=future-bass-110845.mp3"></audio>
</div>

<script>
(function(){
  /* ========= Navegação básica sem pausar áudio ========= */
  const buttons = document.querySelectorAll('[data-goto]');
  const pages = {
    'home': document.getElementById('page-home'),
    'favoritos': document.getElementById('page-favoritos'),
    'minhas-playlists': document.getElementById('page-minhas-playlists'),
    'downloads': document.getElementById('page-downloads'),
    'assinaturas': document.getElementById('page-assinaturas'),
    'configuracoes': document.getElementById('page-configuracoes'),
    'notificacoes': document.getElementById('page-notificacoes'),
    'ajuda': document.getElementById('page-ajuda'),
  };
  function goto(page){
    Object.values(pages).forEach(p=>p.classList.remove('active'));
    (pages[page]||pages['home']).classList.add('active');
    // NÃO toca/pause aqui (evita parar música)
  }
  buttons.forEach(b=>{
    b.addEventListener('click', (e)=>{
      const pg = b.getAttribute('data-goto');
      document.querySelectorAll('[data-goto]').forEach(x=>x.classList.toggle('active', x===b));
      goto(pg);
    });
  });

  /* ========= Player básico (não pausa sozinho) ========= */
  const audio = document.getElementById('audio');
  const btnPlay = document.getElementById('btn-play');
  btnPlay.addEventListener('click', ()=>{
    if(audio.paused){ audio.play(); } else { audio.pause(); }
  });
  // Evita pausas involuntárias por alert/confirm/share
  const _alert = window.alert, _confirm = window.confirm, _prompt = window.prompt;
  window.alert=(...a)=>{ return _alert.apply(window,a) };
  window.confirm=(...a)=>{ return _confirm.apply(window,a) };
  window.prompt=(...a)=>{ return _prompt.apply(window,a) };
  if(navigator.share){
    const _share = navigator.share.bind(navigator);
    navigator.share=(data)=>_share(data); // não mexe no áudio

  }

  /* ========= Notificações: estado e persistência ========= */
  const key = 'looveNotifPrefs';
  const defaults = { all:false, new:false, trends:false, playlists:false };

  function readPrefs(){
    try{
      const raw = localStorage.getItem(key);
      if(!raw) return {...defaults};
      const obj = JSON.parse(raw);
      return {...defaults, ...obj};
    }catch(e){ console.warn('Prefs inválidas, resetando.', e); return {...defaults}; }
  }
  function writePrefs(p){ localStorage.setItem(key, JSON.stringify(p)); }

  // mapeia switches
  const swAll = document.getElementById('sw-all');
  const swNew = document.getElementById('sw-new');
  const swTrends = document.getElementById('sw-trends');
  const swPlaylists = document.getElementById('sw-playlists');

  function setSwitch(el, on){
    el.classList.toggle('on', !!on);
    el.setAttribute('aria-checked', !!on);
  }

  function reflectMaster(p){
    // Master é ON somente se todos individuais estiverem ON
    const allOn = p.new && p.trends && p.playlists;
    p.all = allOn;
    setSwitch(swAll, p.all);
  }

  function reflectIndividuals(p){
    setSwitch(swNew, p.new);
    setSwitch(swTrends, p.trends);
    setSwitch(swPlaylists, p.playlists);
  }

  function applyNotificationPrefs(p){
    // GANCHO para integração com push/providers
    // Ex.: subscribe/unsubscribe em tópicos: 'new', 'trends', 'playlists'
    // Mantém app rápido e seguro (Regra 11)
  }

  function syncUI(){
    const p = readPrefs();
    reflectIndividuals(p);
    reflectMaster(p);
    applyNotificationPrefs(p);
  }

  function toggle(el, keyName){
    const p = readPrefs();
    p[keyName] = !p[keyName];
    // Se algum individual mudou, re-avalia master
    if(keyName !== 'all'){
      reflectIndividuals(p);
      reflectMaster(p);
    }else{
      // Master controla todos
      const on = p.all;
      p.new = on; p.trends = on; p.playlists = on;
      reflectIndividuals(p);
      setSwitch(swAll, on);
    }
    writePrefs(p);
    applyNotificationPrefs(p);
    // Feedback leve (sem pausar áudio)
    el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}], {duration:160, easing:'ease-out'});
  }

  swAll.addEventListener('click', ()=>{ const p=readPrefs(); p.all=!p.all; writePrefs(p); toggle(swAll,'all'); });
  swNew.addEventListener('click', ()=> toggle(swNew,'new'));
  swTrends.addEventListener('click', ()=> toggle(swTrends,'trends'));
  swPlaylists.addEventListener('click', ()=> toggle(swPlaylists,'playlists'));

  // Inicializa UI
  syncUI();

  // Segurança extra: se alguma página/overlay abrir, não pausar
  document.addEventListener('visibilitychange', ()=>{
    // Mantém tocando ao trocar abas; pausar só se usuário pausar.
    // Se desejar pausar ao deixar a aba, mude aqui (respeitando Regra 11/velocidade).
  });
})();
</script>
</body>
</html>
