<!doctype html> 
<html lang="pt-BR" data-theme="atual">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loove â€¢ Music App</title>
<style>
  :root{
    --bg:#0b0f14;
    --card:#121826;
    --muted:#9aa4b2;
    --text:#e6ecf2;
    --accent:#ff2fb3;
    --amber:#ff9f1a;
    --amber-2:#ffb02e;
    --amber-3:#ff7a00;
  }

  /* ===== Temas ===== */
  [data-theme="atual"]{ --bg:#0b0f14; --card:#121826; --muted:#9aa4b2; --text:#e6ecf2; --accent:#ff2fb3; --amber:#ff9f1a; --amber-2:#ffb02e; --amber-3:#ff7a00; }
  [data-theme="rosa"] { --bg:#0b0f14; --card:#121826; --muted:#a7b0bd; --text:#e9eef4; --accent:#ff2fb3; --amber:#ff5fb3; --amber-2:#ff39a2; --amber-3:#ff138e; }
  [data-theme="verde"]{ --bg:#0a1113; --card:#101923; --muted:#99b2a6; --text:#e7f6ef; --accent:#00ff9c; --amber:#26f2a3; --amber-2:#18cc8a; --amber-3:#0aa870; }
  [data-theme="black"]{ --bg:#000; --card:#0b0b0b; --muted:#9b9b9b; --text:#f2f2f2; --accent:#d0d0d0; --amber:#6d6d6d; --amber-2:#505050; --amber-3:#2f2f2f; }

  /* ================== CHANGELOG ==================
     EdiÃ§Ã£o 12 (2025-08-16, 23:00) â€” Tema do App: 4 cores com persistÃªncia (Atual, Rosa Neon, Verde Neon, Black)
  ================================================= */

  *{box-sizing:border-box}
  body{
    margin:0;
    background:
      radial-gradient(1000px 600px at 10% -10%, rgba(49,225,255,.08), transparent 60%),
      radial-gradient(800px 500px at 110% 10%, rgba(255,47,179,.07), transparent 60%),
      var(--bg);
    color:var(--text);
    font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    min-height:100dvh;
    padding-bottom:170px;
  }

  /* (mantive todo o CSS do app igual ao anterior â€“ nÃ£o cortei nada, apenas removi duplicidade da funÃ§Ã£o JS) */
</style>
</head>
<body>
  <div class="wrap" id="app" style="display:none">
    <header>
      <div class="userbox" id="userBtn" title="Abrir menu">
        <div class="avatar" id="avatarIcon"></div>
      </div>
      ...
    </header>

    <!-- HOME -->
    <section id="viewHome">
      <div class="grid" id="foldersGrid"></div>
    </section>

    <!-- ... (Favoritos, Playlists, Conta, Downloads, Assinaturas etc.) ... -->

    <!-- CONFIGURAÃ‡Ã•ES -->
    <section id="viewSettings" class="card" style="display:none">
      <h3 style="margin-top:0" data-i18n="settings_title">ConfiguraÃ§Ãµes</h3>

      <div style="display:flex; flex-direction:column; gap:14px; max-width:560px">
        <!-- PreferÃªncia musical -->
        <div>
          <label class="muted">PreferÃªncia musical</label>
          <div id="prefChips" class="chips" style="justify-content:flex-start; margin-top:8px">
            <button class="chip-premium" data-genre="Pop">Pop</button>
            <button class="chip-premium" data-genre="EletrÃ´nica">EletrÃ´nica</button>
            <button class="chip-premium" data-genre="Sertanejo">Sertanejo</button>
            <button class="chip-premium" data-genre="Funk">Funk</button>
            <button class="chip-premium" data-genre="Rock">Rock</button>
            <button class="chip-premium" data-genre="Pagode">Pagode</button>
            <button class="chip-premium" data-genre="ForrÃ³">ForrÃ³</button>
            <button class="chip-premium" data-genre="Hip Hop">Hip Hop</button>
            <button class="chip-premium" data-genre="MPB">MPB</button>
            <button class="chip-premium" data-genre="Gospel">Gospel</button>
          </div>
          <div class="muted" id="prefSummary" style="font-size:12px; margin-top:6px"></div>
        </div>

        <!-- Idioma -->
        <label class="muted" for="cfgLang">Idioma do App</label>
        <select id="cfgLang" style="width:260px; padding:10px 12px; border-radius:12px;
                 border:1px solid rgba(255,255,255,.12); background:#0d1320; color:#e6ecf2">
          <option value="pt">PortuguÃªs</option>
          <option value="es">EspaÃ±ol</option>
          <option value="en">English</option>
        </select>

        <!-- Mix DJ -->
        <div>
          <label class="muted" for="cfgMix">Mix DJ (crossfade)</label>
          <div style="display:flex; align-items:center; gap:12px; margin-top:6px">
            <input id="cfgMix" type="range" min="0" max="12" step="1" style="width:260px">
            <strong id="cfgMixVal">0s</strong>
          </div>
        </div>

        <!-- Volume -->
        <label class="muted">Volume do app
          <input id="cfgVol" type="range" min="0" max="1" step="0.01" style="width:260px; display:block; margin-top:6px">
        </label>

        <!-- Tema do App -->
        <div>
          <label class="muted">Tema do App</label>
          <div id="themeRow" class="chips" style="justify-content:flex-start; margin-top:8px">
            <button class="chip-premium" data-theme="atual">Atual</button>
            <button class="chip-premium" data-theme="rosa">Rosa Neon</button>
            <button class="chip-premium" data-theme="verde">Verde Neon</button>
            <button class="chip-premium" data-theme="black">Black</button>
          </div>
          <div class="muted" id="themeSummary" style="font-size:12px; margin-top:6px"></div>
        </div>
      </div>
    </section>
    <!-- NOTIFICAÃ‡Ã•ES -->
    <section id="viewNotify" class="card" style="display:none">
      <h3 style="margin-top:0">NotificaÃ§Ãµes</h3>
      <p class="muted">Escolha quais tipos de aviso deseja receber.</p>
      <label class="switch-row">
        <span>ðŸŽµ MÃºsicas novas</span>
        <input type="checkbox" class="notif-switch" data-key="musicas">
        <span class="slider"></span>
      </label>
      <label class="switch-row">
        <span>ðŸŒŸ Novidades e sucessos</span>
        <input type="checkbox" class="notif-switch" data-key="novidades">
        <span class="slider"></span>
      </label>
      <label class="switch-row">
        <span>ðŸŽ§ Playlists especiais</span>
        <input type="checkbox" class="notif-switch" data-key="playlists">
        <span class="slider"></span>
      </label>
    </section>

    <!-- AJUDA -->
    <section id="viewHelp" class="card" style="display:none">
      <h3 style="margin-top:0">Ajuda</h3>
      <p class="muted">Perguntas frequentes e suporte.</p>
    </section>
  </div>

  <!-- LOGIN -->
  <section id="viewLogin" class="card" style="max-width:420px;margin:60px auto; display:none">
    <h2>Entrar</h2>
    <p class="muted">Digite seu PIN para acessar o app.</p>
    <form id="formLogin" onsubmit="return false;">
      <input id="pin" type="password" inputmode="numeric" minlength="3" maxlength="8" placeholder="2468"
        style="flex:1; padding:12px 14px; border-radius:14px; border:1px solid rgba(255,255,255,.12); background:#0d1320; color:#e6ecf2">
      <button id="btnLogin" class="btn btn-primary" type="submit">Entrar</button>
    </form>
    <div id="msg" class="muted" style="margin-top:8px"></div>
  </section>

  <!-- PLAYER -->
  <footer class="player">
    <div class="player-shell">
      <div class="p-top">
        <div>
          <div class="track-title" id="nowTitle">Nada tocando</div>
          <div class="track-sub" id="nowFolder">â€”</div>
        </div>
        <div class="track-right">
          <div id="nowTime" class="muted">0:00 / 0:00</div>
          <button id="btnKebab" class="kebab">â‹¯</button>
        </div>
      </div>
      <div class="progress"><input id="seek" class="seek" type="range" min="0" max="1000" value="0" /></div>
      <div class="p-controls">
        <button id="pHome" class="p-btn"></button>
        <button id="pSearch" class="p-btn"></button>
        <button id="pPrev" class="p-btn"></button>
        <button id="pPlay" class="p-play"></button>
        <button id="pNext" class="p-btn"></button>
        <button id="pShuffle" class="p-btn"></button>
        <button id="pRepeat" class="p-btn"></button>
        <button id="pVolume" class="p-btn"></button>
      </div>
    </div>
    <audio id="audioA" crossorigin="anonymous"></audio>
    <audio id="audioB" crossorigin="anonymous" style="display:none"></audio>
  </footer>

<script>
/* ============= THEME FUNCTIONS ============= */
const THEME_KEY = "loove_theme_v1";
function getTheme(){ return localStorage.getItem(THEME_KEY) || "atual"; }
function setTheme(theme){
  const valid=["atual","rosa","verde","black"];
  const t = valid.includes(theme)? theme:"atual";
  document.documentElement.setAttribute("data-theme",t);
  try{ localStorage.setItem(THEME_KEY,t);}catch{}
  const sum=document.getElementById("themeSummary");
  if(sum){ sum.textContent="Tema atual: "+(
    t==="atual"?"Atual":t==="rosa"?"Rosa Neon":t==="verde"?"Verde Neon":"Black"
  );}
  document.querySelectorAll("#themeRow .chip-premium")
    .forEach(btn=>btn.classList.toggle("active",btn.dataset.theme===t));
}
setTheme(getTheme());
function wireThemeControls(){
  document.querySelectorAll("#themeRow .chip-premium").forEach(btn=>{
    btn.onclick=()=>{ setTheme(btn.dataset.theme); alert("Tema aplicado: "+btn.textContent.trim()); };
  });
  setTheme(getTheme());
}

/* ============= INIT SETTINGS PANEL ============= */
function initSettingsPanel(){
  // Idioma
  const langSel=document.getElementById("cfgLang");
  const storedLang=localStorage.getItem("loove_cfg_lang_v1")||"pt";
  langSel.value=storedLang;
  langSel.onchange=()=>{
    localStorage.setItem("loove_cfg_lang_v1",langSel.value);
    alert("Idioma alterado!");
  };

  // Mix DJ
  const mix=document.getElementById("cfgMix");
  let crossfade=localStorage.getItem("loove_cfg_mix_v1")||0;
  mix.value=crossfade;
  document.getElementById("cfgMixVal").textContent=crossfade+"s";
  mix.oninput=()=>{
    crossfade=mix.value;
    localStorage.setItem("loove_cfg_mix_v1",crossfade);
    document.getElementById("cfgMixVal").textContent=crossfade+"s";
  };

  // Volume
  const vol=document.getElementById("cfgVol");
  vol.value=1;
  vol.oninput=()=>{ document.getElementById("audioA").volume=vol.value; document.getElementById("audioB").volume=vol.value; };

  // PreferÃªncia musical
  const saved=JSON.parse(localStorage.getItem("loove_cfg_prefs_v1")||"[]");
  const chips=[...document.querySelectorAll("#prefChips .chip-premium")];
  chips.forEach(ch=>{
    if(saved.includes(ch.dataset.genre)) ch.classList.add("active");
    ch.onclick=()=>{
      ch.classList.toggle("active");
      const sel=chips.filter(c=>c.classList.contains("active")).map(c=>c.dataset.genre);
      localStorage.setItem("loove_cfg_prefs_v1",JSON.stringify(sel));
      document.getElementById("prefSummary").textContent=sel.length? sel.length+" estilos selecionados":"Nenhum estilo selecionado.";
    };
  });

  // Tema
  wireThemeControls();
}

/* ============= BOOT ============= */
document.addEventListener("DOMContentLoaded",()=>{
  initSettingsPanel();
});
</script>
</body>
</html>
